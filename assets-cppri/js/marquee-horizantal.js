!function(e,t,n,a){var i="SimpleMarquee";function s(t,n){this.element=t,this._name=i,this._defaults=e.fn.SimpleMarquee.defaults,this.settings=e.extend({},this._defaults,n),this.marqueeSpawned=[],this.marqueeHovered=!1,this.documentHasFocus=!1,this.counter=0,this.timeLeft=0,this.currentPos=0,this.distanceLeft=0,this.totalDistance=0,this.contentWidth=0,this.endPoint=0,this.duration=0,this.hovered=!1,this.padding=0,this.init()}function r(e){this.el=e,this.counter=0,this.name="",this.timeTop=0,this.currentPos=0,this.distanceTop=0,this.totalDistance=0,this.contentWidth=0,this.endPoint=0,this.duration=0,this.hovered=!1,this.padding=0}e.extend(s.prototype,{init:function(){this.buildCache(),this.bindEvents();var t=this.settings;0!=e(t.marquee_class).width()&&void 0!==e(t.marquee_class)&&void 0!==e(t.container_class)&&(0!=t.sibling_class&&void 0===e(t.sibling_class)||(t.autostart&&(this.documentHasFocus=!0),this.createMarquee()))},destroy:function(){this.unbindEvents(),this.$element.removeData()},buildCache:function(){this.$element=e(this.element)},bindEvents:function(){var n=this;e(t).on("focus",(function(){for(var e in n.documentHasFocus=!0,n.marqueeSpawned)n.marqueeManager(n.marqueeSpawned[e])})),e(t).on("blur",(function(){for(var e in n.documentHasFocus=!1,n.marqueeSpawned)n.marqueeSpawned[e].el.clearQueue().stop(),n.marqueeSpawned[e].hovered=!0}))},unbindEvents:function(){e(t).off("blur focus")},getPosition:function(t){var n=this.settings;return this.currentPos=parseInt(e(t).css(n.direction)),this.currentPos},createMarquee:function(){var t=this,a=t.settings,i=e(a.marquee_class).html(),s=e(a.container_class).width(),o=e(a.marquee_class).width(),u=0;0!=a.sibling_class&&(u=e(a.sibling_class).width());var c=Math.ceil(s/o);e(a.marquee_class).remove(),c<=2?c=3:c++;var d=-((o+a.padding)*c-s),m=s-d;0!==a.velocity&&(a.duration=m/a.velocity);for(var h=0;h<c;h++){var l=!1;l=1==a.hover?e('<div class="marquee-'+(h+1)+'">'+i+"</div>").mouseenter((function(){if(1==t.documentHasFocus&&0==t.marqueeHovered)for(var e in t.marqueeHovered=!0,t.marqueeSpawned)t.marqueeSpawned[e].el.clearQueue().stop(),t.marqueeSpawned[e].hovered=!0})).mouseleave((function(){if(1==t.documentHasFocus&&1==t.marqueeHovered){for(var e in t.marqueeSpawned)t.marqueeManager(t.marqueeSpawned[e]);t.marqueeHovered=!1}})):e('<div class="marquee-'+(h+1)+'">'+i+"</div>"),t.marqueeSpawned[h]=new r(l),e(a.container_class).append(l),t.marqueeSpawned[h].currentPos=u+o*h+a.padding*h,t.marqueeSpawned[h].name=".marquee-"+(h+1),t.marqueeSpawned[h].totalDistance=m,t.marqueeSpawned[h].containerWidth=s,t.marqueeSpawned[h].contentWidth=o,t.marqueeSpawned[h].endPoint=d,t.marqueeSpawned[h].duration=a.duration,t.marqueeSpawned[h].padding=a.padding,t.marqueeSpawned[h].el.css(a.direction,t.marqueeSpawned[h].currentPos+a.padding+"px"),1==t.documentHasFocus&&t.marqueeManager(t.marqueeSpawned[h])}n.hasFocus()?t.documentHasFocus=!0:t.documentHasFocus=!1},marqueeManager:function(e){var t=this,n=e.name,a=t.settings;0==e.hovered?e.counter>0?(e.timeLeft=e.duration,e.el.css(a.direction,e.containerWidth+"px"),e.currentPos=e.containerWidth,e.distanceLeft=e.totalDistance-(e.containerWidth-t.getPosition(n))):e.timeLeft=(e.totalDistance-(e.containerWidth-t.getPosition(n)))/e.totalDistance*e.duration:(e.hovered=!1,e.currentPos=parseInt(e.el.css(a.direction)),e.distanceLeft=e.totalDistance-(e.containerWidth-t.getPosition(n)),e.timeLeft=(e.totalDistance-(e.containerWidth-e.currentPos))/e.totalDistance*e.duration),t.marqueeAnim(e)},marqueeAnim:function(e){var t=this,n=t.settings;e.counter++,e.el.clearQueue().animate({[n.direction]:e.endPoint+"px"},e.timeLeft,"linear",(function(){t.marqueeManager(e)}))},callback:function(){var e=this.settings.onComplete;"function"==typeof e&&e.call(this.element)}}),e.fn.SimpleMarquee=function(t){return this.each((function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new s(this,t))})),this},e.fn.SimpleMarquee.defaults={autostart:!0,property:"value",onComplete:null,duration:2e4,padding:10,marquee_class:".marquee",container_class:".latest_news_marquee_container",sibling_class:0,hover:!0,velocity:0,direction:"left"}}(jQuery,window,document);