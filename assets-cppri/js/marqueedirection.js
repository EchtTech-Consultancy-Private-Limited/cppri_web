!function(e){"use strict";e.fn.extend({marquee:function(o){this.each((function(){var t=this;t.defaultOptions={speed:10,direction:"vertical"};var r,l,i,n,s,c,a,d,p,u=e.extend({},o,t.defaultOptions,{speed:e(t).data("speed"),direction:e(t).data("direction")});i=function(){e(t).stop()},"vertical"==u.direction?(r=function(o,l){d=Math.floor(e(t).prop("scrollHeight")/2),e(t).stop(),e(t).scrollTop()>=d&&e(t).scrollTop(e(t).scrollTop()-d),a=d-e(t).scrollTop(),p=u.speed>0?l?l.speed:u.speed:1,e(t).animate({scrollTop:d},1/p*a*1e3,"linear",(function(){r(o,l)}))},l=function(o,r){d=Math.floor(e(t).prop("scrollHeight")/2),e(t).stop(),e(t).scrollTop()<=d-e(t).outerHeight()&&e(t).scrollTop(e(t).scrollTop()+d),a=e(t).outerHeight()+e(t).scrollTop()-d,p=u.speed>0?r?r.speed:u.speed:1,e(t).animate({scrollTop:d-e(t).outerHeight()},1/p*a*1e3,"linear",(function(){l(o,r)}))},s=function(o,r){d=Math.floor(e(t).prop("scrollHeight")/2),e(t).stop(),p=u.speed>0?r?r.speed:u.speed:1,e(t).scrollTop()<=d-e(t).outerHeight()&&e(t).scrollTop(e(t).scrollTop()+d),e(t).scrollTop()==2*d-e(t).outerHeight()?e(t).animate({scrollTop:d},1/p*(2*d-e(t).outerHeight()-d)*1e3,"linear",(function(){s(o,r)})):(a=2*d-e(t).outerHeight()-e(t).scrollTop(),e(t).animate({scrollTop:2*d-e(t).outerHeight()},1/p*a*1e3,"linear",(function(){s(o,r)})))},c=function(o,r){d=Math.floor(e(t).prop("scrollHeight")/2),e(t).stop(),p=u.speed>0?r?r.speed:u.speed:1,e(t).scrollTop()<d-e(t).outerHeight()?(a=d-e(t).outerHeight()-e(t).scrollTop(),e(t).animate({scrollTop:d-e(t).outerHeight()},1/p*a*1e3,"linear")):e(t).scrollTop()!=2*d-e(t).outerHeight()&&e(t).scrollTop()!=d-e(t).outerHeight()&&(a=2*d-e(t).outerHeight()-e(t).scrollTop(),e(t).animate({scrollTop:2*d-e(t).outerHeight()},1/p*a*1e3,"linear"))}):"horizontal"==u.direction&&(r=function(o,l){d=Math.floor(e(t).prop("scrollWidth")/2),e(t).stop(),e(t).scrollLeft()>=d&&e(t).scrollLeft(e(t).scrollLeft()-d),a=d-e(t).scrollLeft(),p=u.speed>0?l?l.speed:u.speed:1,e(t).animate({scrollLeft:d},1/p*a*1e3,"linear",(function(){r(o,l)}))},l=function(o,r){d=Math.floor(e(t).prop("scrollWidth")/2),e(t).stop(),e(t).scrollLeft()<=d-e(t).outerWidth()&&e(t).scrollLeft(e(t).scrollLeft()+d),a=e(t).outerWidth()+e(t).scrollLeft()-d,p=u.speed>0?r?r.speed:u.speed:1,e(t).animate({scrollLeft:d-e(t).outerWidth()},1/p*a*1e3,"linear",(function(){l(o,r)}))},s=function(o,r){d=Math.floor(e(t).prop("scrollWidth")/2),e(t).stop(),p=u.speed>0?r?r.speed:u.speed:1,e(t).scrollLeft()<=d-e(t).outerWidth()&&e(t).scrollLeft(e(t).scrollLeft()+d),e(t).scrollLeft()==2*d-e(t).outerWidth()?e(t).animate({scrollLeft:d},1/p*(2*d-e(t).outerWidth()-d)*1e3,"linear",(function(){s(o,r)})):(a=2*d-e(t).outerWidth()-e(t).scrollLeft(),e(t).animate({scrollLeft:2*d-e(t).outerWidth()},1/p*a*1e3,"linear",(function(){s(o,r)})))},c=function(o,r){d=Math.floor(e(t).prop("scrollWidth")/2),e(t).stop(),p=u.speed>0?r?r.speed:u.speed:1,e(t).scrollLeft()<d-e(t).outerWidth()?(a=d-e(t).outerWidth()-e(t).scrollLeft(),e(t).animate({scrollLeft:d-e(t).outerWidth()},1/p*a*1e3,"linear")):e(t).scrollLeft()!=2*d-e(t).outerWidth()&&e(t).scrollLeft()!=d-e(t).outerWidth()&&(a=2*d-e(t).outerWidth()-e(t).scrollLeft(),e(t).animate({scrollLeft:2*d-e(t).outerWidth()},1/p*a*1e3,"linear"))}),n=function(){"vertical"==u.direction&&e(t).outerHeight()<=e(t).find(".marquee-content").outerHeight()-parseInt(e(t).find(".marquee-content").css("padding-bottom"))||"horizontal"==u.direction&&e(t).outerWidth()<=e(t).find(".marquee-content").outerWidth()-parseInt(e(t).find(".marquee-content").css("padding-right"))?e(t).find(".marquee-content").eq(1).length||(e(t).find(".marquee-content").clone().appendTo(e(t).find(".marquee-wrapper")),e(t).on("pause",i),e(t).on("forward",r),e(t).on("backward",l),e(t).on("toggleForward",s),e(t).on("forwardStop",c)):(e(t).trigger("pause"),e(t).find(".marquee-content").eq(1).remove(),e(t).off("pause forward backward toggleForward forwardStop"))},e(t).on("revalidate",n)}));var t=this;return e(this).trigger("revalidate"),e(window).on("resize.resize_revalidate",(function o(){e(window).off("resize.resize_revalidate"),setTimeout((function(){e(t).trigger("revalidate"),e(window).on("resize.resize_revalidate",o)}),100)})),this}})}(jQuery);